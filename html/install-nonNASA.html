<!-- HTML header for doxygen 1.9.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NASA Astrobee Robot Software: Install for general users</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.png" type="image/png" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="freeflyer.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 70px;">
  <td id="projectlogo"><img alt="Logo" src="astrobee-logo.png" height="100"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NASA Astrobee Robot Software
   &#160;<span id="projectnumber">0.12.0</span>
   </div>
   <div id="projectbrief">Flight software for the Astrobee robot operating inside the International Space Station.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('install-nonNASA.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Install for general users </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md103"></a>
Usage instructions for non-NASA users</h1>
<p>Install the 64-bit version of <a href="http://releases.ubuntu.com/16.04">Ubuntu 16.04</a> on a host machine, and make sure that you can checkout and build code. If you are using a virtual machine, please use VMware. Virtualbox doesn't support some of our Gazebo plugins. </p><pre class="fragment">sudo apt-get install build-essential git
</pre><p><em>Note: You will need 4 GBs of RAM to compile the software. If you don't have that much RAM available, please use swap space.</em></p>
<p><em>Note: Preferably install Ubuntu 16.04. At this time we do not officially support any other operating system or Ubuntu version. Experimental instructions steps for Ubuntu 18 installation are included</em></p>
<p><em>Note: Please ensure you install the 64-bit version of Ubuntu. We do not support running Astrobee Robot Software on 32-bit systems.</em></p>
<h2><a class="anchor" id="autotoc_md104"></a>
Machine setup</h2>
<h3><a class="anchor" id="autotoc_md105"></a>
Checkout the project source code</h3>
<p>At this point you need to decide where you'd like to put the source code (<code>SOURCE_PATH</code>) on your machine: </p><pre class="fragment">export SOURCE_PATH=$HOME/astrobee
</pre><p>First, clone the flight software repository and media: </p><pre class="fragment">git clone https://github.com/nasa/astrobee.git $SOURCE_PATH
git submodule update --init --depth 1 description/media
</pre><p>If you are planning to work with guest science code, you will also need the <code>astrobee_android</code> repository. You should checkout the repository in the same directory you checked out the source code in: </p><pre class="fragment">export ANDROID_PATH="${SOURCE_PATH}_android"
</pre><p>Clone the android repository: </p><pre class="fragment">git clone https://github.com/nasa/astrobee_android.git $ANDROID_PATH
</pre><h3><a class="anchor" id="autotoc_md106"></a>
Dependencies Ubuntu 16 + ROS Melodic</h3>
<p>Next, install all required dependencies: <em>Note: <code>root</code> access is necessary to install the compiled debian packages below</em> <em>Note: Before running this please ensure that your system is completely updated by running 'sudo apt-get update' and then 'sudo apt-get upgrade'</em></p>
<p>pushd $SOURCE_PATH cd scripts/setup ./add_ros_repository.sh sudo apt-get update cd debians ./build_install_debians.sh cd ../ ./install_desktop_16_04_packages.sh sudo rosdep init rosdep update popd</p>
<p><b>Important</b>: you can safely ignore the following error messages, as they are simply letting you know that certain libraries cannot be found. These libraries are for internal NASA use only, and are not required by public users provided that software is launched with DDS disabled. </p><pre class="fragment">E: Unable to locate package libroyale1
E: Unable to locate package rti
E: Unable to locate package libmiro0
E: Unable to locate package libsoracore1
E: Unable to locate package libroyale-dev
E: Unable to locate package rti-dev
E: Unable to locate package libsoracore-dev
E: Unable to locate package libmiro-dev
</pre><h3><a class="anchor" id="autotoc_md107"></a>
Dependencies Ubuntu 18 + ROS melodic</h3>
<p>Next, install all required dependencies: <em>Note: <code>root</code> access is necessary to install the compiled debian packages below</em> <em>Note: You should instal ROS melodic beforehand following the <a href="http://wiki.ros.org/melodic/Installation/Ubuntu">Installation Instructions</a></em> <em>Note: Before running this please ensure that your system is completely updated by running 'sudo apt-get update' and then 'sudo apt-get upgrade'</em></p>
<p>pushd $SOURCE_PATH cd scripts/setup ./add_ros_repository.sh sudo apt-get update</p>
<p>Install OpenCV 3.3.1, you can parse the argument -p to change install directory. By default, install directory is in /usr/local. If you do so, make sure CMake can find it. </p><pre class="fragment">./install_opencv.sh
</pre><p>Install Luajit, it will be installed in /usr/local </p><pre class="fragment">./install_luajit.sh

cd debians
./build_install_debians_18_04.sh
cd ../
./install_desktop_18_04_packages.sh
sudo rosdep init
rosdep update
popd
</pre><p><b>Important</b>: you can safely ignore the following error messages, as they are simply letting you know that certain libraries cannot be found. These libraries are for internal NASA use only, and are not required by public users provided that software is launched with DDS disabled. </p><pre class="fragment">E: Unable to locate package libroyale1
E: Unable to locate package rti
E: Unable to locate package libmiro0
E: Unable to locate package libsoracore1
E: Unable to locate package libroyale-dev
E: Unable to locate package rti-dev
E: Unable to locate package libsoracore-dev
E: Unable to locate package libmiro-dev
</pre><h2><a class="anchor" id="autotoc_md108"></a>
Configuring the build</h2>
<h3><a class="anchor" id="autotoc_md109"></a>
Note for the build setup</h3>
<p>By default, the configure script uses the following paths:</p><ul>
<li>native build path: <code>$HOME/astrobee_build/native</code></li>
<li>native install path: <code>$HOME/astrobee_install/native</code></li>
</ul>
<p>If you are satisfied with these paths, you can invoke the <code>configure.sh</code> without the <code>-p</code> and <code>-b</code> options. For the simplicity of the instructions below, we assume that <code>$BUILD_PATH</code> and <code>$INSTALL_PATH</code> contain the location of the build and install path. For example: </p><pre class="fragment">export BUILD_PATH=$HOME/astrobee_build/native
export INSTALL_PATH=$HOME/astrobee_install/native
</pre><h3><a class="anchor" id="autotoc_md110"></a>
Native build</h3>
<p>The configure script prepares your build directory for compiling the code. Note that <code>configure.sh</code> is simply a wrapper around CMake that provides an easy way of turning on and off options. To see which options are supported, simply run <code>configure.sh -h</code>. </p><pre class="fragment">pushd $SOURCE_PATH
./scripts/configure.sh -l -F -D
popd
</pre><p>If you want to explicitly specify the build and install directories, use instead: </p><pre class="fragment">./scripts/configure.sh -l -F -D -p $INSTALL_PATH -b $BUILD_PATH
</pre><p><em>Note: Make sure you use the -F and -D flags. If these flags are not used, the code will not compile. The -F flag is used to turn off building the Picoflex. This is only needed for running on the robot and is not needed for the simulator. The -D is used to turn off building the dds bridge. The bridge is used to communicate with our ground data system and is also not needed for the simulator.</em></p>
<h2><a class="anchor" id="autotoc_md111"></a>
Building the code</h2>
<p>To build, run <code>make</code> in the <code>$BUILD_PATH</code>. Note that depending on your host machine, this might take in the order of tens of minutes to complete the first time round. Future builds will be faster, as only changes to the code are rebuilt, and not the entire code base. </p><pre class="fragment">pushd $BUILD_PATH
make -j2
popd
</pre><p>If you configured your virtual machine with more than the baseline resources, you can adjust the number of threads (eg. -j4) to speed up the build.</p>
<p>For more information on running the simulator and moving the robot, please see the <a class="el" href="sim__overview_8md.html">simulation instructions</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.0-->
<!-- start footer part -->
</body>
</html>
